<div class="container">
  <div class="problems-header">
    <h1>Coding Problems List</h1>
    <p>Select a problem to start solving</p>
  </div>

  <div class="filters-container">
    <mat-form-field appearance="outline">
      <mat-label>Search</mat-label>
      <input matInput [(ngModel)]="searchTerm" (keyup.enter)="onSearch()" placeholder="Search for a problem...">
      <button mat-icon-button matSuffix (click)="onSearch()">
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Difficulty Level</mat-label>
      <mat-select [(ngModel)]="selectedDifficulty" (selectionChange)="onDifficultyChange()">
        <mat-option value="">All</mat-option>
        <mat-option value="Easy">Easy</mat-option>
        <mat-option value="Medium">Medium</mat-option>
        <mat-option value="Hard">Hard</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Category</mat-label>
      <mat-select [(ngModel)]="selectedTag" (selectionChange)="onTagChange()">
        <mat-option value="">All</mat-option>
        <mat-option value="Array">Arrays</mat-option>
        <mat-option value="String">Strings</mat-option>
        <mat-option value="Hash Table">Hash Tables</mat-option>
        <mat-option value="Tree">Trees</mat-option>
        <mat-option value="Dynamic Programming">Dynamic Programming</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="problems-list">
    <mat-card *ngFor="let problem of filteredProblems" class="problem-card" (click)="navigateToProblem(problem.id)">
      <mat-card-header>
        <mat-card-title>{{ problem.title }}</mat-card-title>
        <mat-card-subtitle>
          <span class="difficulty-badge" [style.background-color]="getDifficultyColor(problem.difficultyLevel)">
            {{ problem.difficultyLevel }}
          </span>
        </mat-card-subtitle>
      </mat-card-header>
      <mat-card-content>
        <p class="problem-description">{{ problem.description | slice:0:150 }}{{ problem.description.length > 150 ? '...' : '' }}</p>
        <div class="problem-tags">
          <mat-chip-listbox>
            <mat-chip *ngFor="let tag of problem.tags">{{ tag }}</mat-chip>
          </mat-chip-listbox>
        </div>
      </mat-card-content>
      <mat-card-actions align="end">
        <button mat-button color="primary">Solve Problem</button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
